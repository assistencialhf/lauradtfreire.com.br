"use strict";jQuery(document).ready((function(s){function t(a,n){n=n||{isBusy:!1};function r(e){var i,c,o,u=s(this);i={id:a.data("id"),slug:a.data("slug"),score:u.data("star"),best:s("[data-star]",a).length},c=function(e,i,c){var o=s(e);o.addClass(a.attr("class")),a.replaceWith(o),s("[data-star]",a).each((function(){s(this).off("click",r)})),a.remove(),t(o,n)},o=function(s,t,a){s.responseJSON&&s.responseJSON.error&&console.error(s.responseJSON.error)},n.isBusy||a.hasClass("kksr-disabled")||(n.isBusy=!0,s.ajax({type:"POST",url:kk_star_ratings.endpoint,data:Object.assign({nonce:kk_star_ratings.nonce,action:kk_star_ratings.action},i),error:o,success:c,complete:function(){n.isBusy=!1}}))}s("[data-star]",a).each((function(){s(this).on("click",r)}))}s(".kk-star-ratings").each((function(){t(s(this))}))}));